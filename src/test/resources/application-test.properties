# Test profile properties
spring.main.banner-mode=off
spring.main.allow-bean-definition-overriding=true

# H2 Database Configuration
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Disable Aerospike and other non-essential auto-configurations
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.aerospike.AerospikeAutoConfiguration,\
  org.springframework.boot.autoconfigure.aerospike.AerospikeDataAutoConfiguration

# Disable web server for tests
server.port=0

# JWT Configuration - Use proper hex-encoded secret
jwt.secret=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
jwt.access-token-expiry=3600000
jwt.refresh-token-expiry=86400000

# OTP Configuration
app.otp.test.enabled=true
app.otp.test.value=123456

# Disable external services for testing
spring.mail.enabled=false
app.sms.enabled=false
app.surepass.enabled=false

# Disable rate limiting for tests
app.rate-limit.enabled=false

# Disable device-based 2FA for tests
app.security.device-2fa.enabled=false

# Environment variables for ConfigurationValidator
MAIL_HOST=localhost
MAIL_PORT=587
MAIL_USERNAME=test@example.com
MAIL_PASSWORD=testpassword
SUREPASS_API_URL=https://test.surepass.com
SUREPASS_CLIENT_ID=test-client-id
SUREPASS_CLIENT_SECRET=test-client-secret
SMS_API_URL=https://test.sms.com
SMS_API_KEY=test-sms-key
TEXTBELT_API_KEY=test-textbelt-api-key
JWT_SECRET=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
JWT_ACCESS_TOKEN_EXPIRY=3600000
JWT_REFRESH_TOKEN_EXPIRY=86400000

# Logging
logging.level.root=WARN
logging.level.com.tj.services=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Surepass API (test configuration)
surepass.api.token=test-token
surepass.api.pan.endpoint=/pan
surepass.api.aadhaar.endpoint=/aadhaar
surepass.api.url=https://test.surepass.io

# Test user credentials
test.admin.email=admin@test.com
test.admin.password=AdminPass123!
test.user.email=user@test.com
test.user.password=UserPass123!
